import{_ as q,f as r,g as x,h as C,u as h,i as N,c as t,b as a,j as A,k as d,l as w,v as g,n as _,t as u,e as y,a as U,w as D,r as E,o as i}from"./index-C-AI9fic.js";import{u as T}from"./index-BUyfBhJN.js";const B={class:"auth-page"},M={class:"auth-section"},F={class:"form-group"},I={key:0,class:"invalid-feedback"},L={class:"form-group"},j={key:0,class:"invalid-feedback"},z={class:"form-group"},R={key:0,class:"invalid-feedback"},$={class:"form-group"},G={key:0,class:"invalid-feedback"},H={key:0,class:"alert alert-danger"},J=["disabled"],K={key:0},O={key:1},Q={class:"auth-footer"},W={__name:"SignupPage",setup(X){const m=r(""),c=r(""),n=r(""),f=r(""),b=N(),P=T(),p=r(!1),v=r(""),e=x({name:"",email:"",password:"",confirmPassword:""}),k=()=>{let o=!0;return e.name="",e.email="",e.password="",e.confirmPassword="",m.value?m.value.length<2&&(e.name="Name must be at least 2 characters",o=!1):(e.name="Name is required",o=!1),c.value?/^\S+@\S+\.\S+$/.test(c.value)||(e.email="Please enter a valid email",o=!1):(e.email="Email is required",o=!1),n.value?n.value.length<6&&(e.password="Password must be at least 6 characters",o=!1):(e.password="Password is required",o=!1),f.value?n.value!==f.value&&(e.confirmPassword="Passwords do not match",o=!1):(e.confirmPassword="Please confirm your password",o=!1),o},S=async()=>{if(k()){p.value=!0,v.value="";try{await new Promise(s=>setTimeout(s,1e3)),localStorage.setItem("ticketapp_session","mock-token"),P.success("Account created successfully!"),h().login(),b.push({name:"Dashboard"})}catch{v.value="Signup failed. Please try again.",P.error("Signup failed")}finally{p.value=!1}}};return C(()=>{h().isAuthenticated&&b.push({name:"Dashboard"})}),(o,s)=>{const V=E("router-link");return i(),t("div",B,[a("main",null,[a("section",M,[s[10]||(s[10]=a("h2",null,"Create an Account",-1)),a("form",{onSubmit:A(S,["prevent"]),class:"signup-form"},[a("div",F,[s[4]||(s[4]=a("label",{for:"name"},"Full Name",-1)),w(a("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=l=>m.value=l),required:"",class:_({"is-invalid":e.name})},null,2),[[g,m.value]]),e.name?(i(),t("div",I,u(e.name),1)):d("",!0)]),a("div",L,[s[5]||(s[5]=a("label",{for:"email"},"Email",-1)),w(a("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=l=>c.value=l),required:"",class:_({"is-invalid":e.email})},null,2),[[g,c.value]]),e.email?(i(),t("div",j,u(e.email),1)):d("",!0)]),a("div",z,[s[6]||(s[6]=a("label",{for:"password"},"Password",-1)),w(a("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=l=>n.value=l),required:"",class:_({"is-invalid":e.password})},null,2),[[g,n.value]]),e.password?(i(),t("div",R,u(e.password),1)):d("",!0)]),a("div",$,[s[7]||(s[7]=a("label",{for:"confirmPassword"},"Confirm Password",-1)),w(a("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":s[3]||(s[3]=l=>f.value=l),required:"",class:_({"is-invalid":e.confirmPassword})},null,2),[[g,f.value]]),e.confirmPassword?(i(),t("div",G,u(e.confirmPassword),1)):d("",!0)]),v.value?(i(),t("div",H,u(v.value),1)):d("",!0),a("button",{type:"submit",class:"btn",disabled:p.value},[p.value?(i(),t("span",O,"Creating account...")):(i(),t("span",K,"Sign Up"))],8,J)],32),a("div",Q,[a("p",null,[s[9]||(s[9]=y("Already have an account? ",-1)),U(V,{to:{name:"Login"}},{default:D(()=>[...s[8]||(s[8]=[y("Log in",-1)])]),_:1})])])])])])}}},ee=q(W,[["__scopeId","data-v-b62c45e4"]]);export{ee as default};

import{_ as L,f as u,g as P,h as x,u as g,i as V,c as o,b as s,j as D,k as p,l as _,v as w,n as h,t as v,e as b,a as q,w as C,r as E,o as i}from"./index-C-AI9fic.js";import{u as I}from"./index-BUyfBhJN.js";const N={class:"auth-page"},T={class:"auth-section"},B={class:"form-group"},M={key:0,class:"invalid-feedback"},A={class:"form-group"},U={key:0,class:"invalid-feedback"},j={key:0,class:"alert alert-danger"},z=["disabled"],F={key:0},R={key:1},$={class:"auth-footer"},G={__name:"LoginPage",setup(H){const l=u(""),r=u(""),f=V(),m=I(),d=u(!1),n=u(""),a=P({email:"",password:""}),k=()=>{let t=!0;return a.email="",a.password="",l.value?/^\S+@\S+\.\S+$/.test(l.value)||(a.email="Please enter a valid email",t=!1):(a.email="Email is required",t=!1),r.value?r.value.length<6&&(a.password="Password must be at least 6 characters",t=!1):(a.password="Password is required",t=!1),t},S=async()=>{if(k()){d.value=!0,n.value="";try{await new Promise(t=>setTimeout(t,1e3)),l.value==="demo@example.com"&&r.value==="password"?(localStorage.setItem("ticketapp_session","mock-token"),m.success("Login successful!"),g().login(),f.push({name:"Dashboard"})):(n.value="Invalid email or password",m.error("Invalid credentials"))}catch{n.value="Login failed. Please try again.",m.error("Login failed")}finally{d.value=!1}}};return x(()=>{g().isAuthenticated&&f.push({name:"Dashboard"})}),(t,e)=>{const y=E("router-link");return i(),o("div",N,[s("main",null,[s("section",T,[e[6]||(e[6]=s("h2",null,"Login",-1)),s("form",{onSubmit:D(S,["prevent"]),class:"login-form"},[s("div",B,[e[2]||(e[2]=s("label",{for:"email"},"Email",-1)),_(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=c=>l.value=c),required:"",class:h({"is-invalid":a.email})},null,2),[[w,l.value]]),a.email?(i(),o("div",M,v(a.email),1)):p("",!0)]),s("div",A,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),_(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=c=>r.value=c),required:"",class:h({"is-invalid":a.password})},null,2),[[w,r.value]]),a.password?(i(),o("div",U,v(a.password),1)):p("",!0)]),n.value?(i(),o("div",j,v(n.value),1)):p("",!0),s("button",{type:"submit",class:"btn",disabled:d.value},[d.value?(i(),o("span",R,"Logging in...")):(i(),o("span",F,"Login"))],8,z)],32),s("div",$,[s("p",null,[e[5]||(e[5]=b("Don't have an account? ",-1)),q(y,{to:{name:"Signup"}},{default:C(()=>[...e[4]||(e[4]=[b("Sign up",-1)])]),_:1})])])])])])}}},O=L(G,[["__scopeId","data-v-62cf5713"]]);export{O as default};

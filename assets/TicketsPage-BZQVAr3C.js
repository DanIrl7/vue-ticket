import{_ as w,f as v,h as E,c as n,b as t,t as r,j as F,l as _,k as p,v as h,n as k,m as I,F as U,p as V,o as u}from"./index-C-AI9fic.js";import{u as q}from"./index-BUyfBhJN.js";const O={class:"tickets-page"},B={class:"tickets-section"},P={class:"ticket-form"},$={class:"form-group"},j={key:0,class:"error-message"},J={class:"form-group"},z={key:0,class:"error-message"},A={class:"form-group"},L={key:0,class:"error-message"},Y={class:"form-actions"},G={type:"submit",class:"btn"},H={class:"tickets-list"},K={key:0,class:"no-tickets"},Q={key:1,class:"ticket-grid"},R={class:"ticket-actions"},W=["onClick"],X=["onClick"],Z={__name:"TicketsPage",setup(tt){const f=q(),a=v([]),i=v({id:null,title:"",description:"",status:"open"}),c=v(!1),l=v({}),T=()=>{const s=localStorage.getItem("tickets");s?a.value=JSON.parse(s):(a.value=[{id:1,title:"First Ticket",description:"This is the first ticket",status:"open"},{id:2,title:"Second Ticket",description:"This is the second ticket",status:"in_progress"}],d())},d=()=>{localStorage.setItem("tickets",JSON.stringify(a.value))},b=s=>s.replace("_"," "),g=()=>(l.value={},i.value.title.trim()||(l.value.title="Title is required"),i.value.description&&i.value.description.length>500&&(l.value.description="Description must be less than 500 characters"),i.value.status||(l.value.status="Status is required"),Object.keys(l.value).length===0),y=()=>{if(!g())return;const s={id:a.value.length>0?Math.max(...a.value.map(e=>e.id))+1:1,...i.value};a.value.push(s),d(),m(),f.success("Ticket created successfully!")},C=()=>{if(!g())return;const s=a.value.findIndex(e=>e.id===i.value.id);s!==-1&&(a.value[s]={...i.value},d(),m(),f.success("Ticket updated successfully!"))},S=s=>{i.value={...s},c.value=!0},x=()=>{m()},D=s=>{confirm("Are you sure you want to delete this ticket?")&&M(s)},M=s=>{a.value=a.value.filter(e=>e.id!==s),d(),f.success("Ticket deleted successfully!")},m=()=>{i.value={id:null,title:"",description:"",status:"open"},c.value=!1,l.value={}};return E(()=>{T()}),(s,e)=>(u(),n("div",O,[t("main",null,[t("section",B,[e[9]||(e[9]=t("h2",null,"Ticket Management",-1)),t("div",P,[t("h3",null,r(c.value?"Edit Ticket":"Create New Ticket"),1),t("form",{onSubmit:e[3]||(e[3]=F(o=>c.value?C:y,["prevent"]))},[t("div",$,[e[4]||(e[4]=t("label",{for:"title"},"Title",-1)),_(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>i.value.title=o),required:"",class:k({error:l.value.title})},null,2),[[h,i.value.title]]),l.value.title?(u(),n("span",j,r(l.value.title),1)):p("",!0)]),t("div",J,[e[5]||(e[5]=t("label",{for:"description"},"Description",-1)),_(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=o=>i.value.description=o),class:k({error:l.value.description})},null,2),[[h,i.value.description]]),l.value.description?(u(),n("span",z,r(l.value.description),1)):p("",!0)]),t("div",A,[e[7]||(e[7]=t("label",{for:"status"},"Status",-1)),_(t("select",{id:"status","onUpdate:modelValue":e[2]||(e[2]=o=>i.value.status=o),required:"",class:k({error:l.value.status})},[...e[6]||(e[6]=[t("option",{value:"open"},"Open",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"closed"},"Closed",-1)])],2),[[I,i.value.status]]),l.value.status?(u(),n("span",L,r(l.value.status),1)):p("",!0)]),t("div",Y,[t("button",G,r(c.value?"Update":"Create"),1),c.value?(u(),n("button",{key:0,type:"button",onClick:x,class:"btn cancel-btn"}," Cancel ")):p("",!0)])],32)]),t("div",H,[e[8]||(e[8]=t("h3",null,"Your Tickets",-1)),a.value.length===0?(u(),n("div",K," No tickets found. Create your first ticket! ")):(u(),n("div",Q,[(u(!0),n(U,null,V(a.value,o=>(u(),n("div",{key:o.id,class:"ticket-card"},[t("h4",null,r(o.title),1),t("p",null,r(o.description),1),t("span",{class:k(["status-tag",o.status])},r(b(o.status)),3),t("div",R,[t("button",{onClick:N=>S(o),class:"btn edit-btn"},"Edit",8,W),t("button",{onClick:N=>D(o.id),class:"btn delete-btn"},"Delete",8,X)])]))),128))]))])])])]))}},it=w(Z,[["__scopeId","data-v-64c66644"]]);export{it as default};
